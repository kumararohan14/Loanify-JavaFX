<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml" fx:controller="com.example.loanmanagement.controller.SettingsController"
            stylesheets="@../application.css" style="-fx-padding: 20;">
    
    <top>
        <VBox spacing="10" style="-fx-padding: 0 0 20 0;">
            <Label text="System Settings" styleClass="header-label"/>
            <Label text="Manage your preferences and security" styleClass="sub-header-label"/>
        </VBox>
    </top>

    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <tabs>
                <Tab text="Profile">
                    <content>
                        <VBox spacing="20" style="-fx-padding: 20;">
                            <Label text="User Profile" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                            
                            <GridPane hgap="15" vgap="15">
                                <columnConstraints>
                                    <ColumnConstraints minWidth="100"/>
                                    <ColumnConstraints hgrow="ALWAYS"/>
                                </columnConstraints>
                                
                                <Label text="Name:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                <TextField fx:id="nameField" editable="false" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                                
                                <Label text="Email:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                <TextField fx:id="emailField" editable="false" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                                
                                <Label text="Role:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                                <TextField fx:id="roleField" editable="false" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                            </GridPane>
                        </VBox>
                    </content>
                </Tab>
                
                <Tab text="Security">
                    <content>
                        <VBox spacing="20" style="-fx-padding: 20;">
                            <Label text="Change Password" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                            
                            <GridPane hgap="15" vgap="15">
                                <columnConstraints>
                                    <ColumnConstraints minWidth="120"/>
                                    <ColumnConstraints hgrow="ALWAYS" maxWidth="300"/>
                                </columnConstraints>
                                
                                <Label text="Current Password:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                <PasswordField fx:id="currentPasswordField" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                                
                                <Label text="New Password:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                <PasswordField fx:id="newPasswordField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                                
                                <Label text="Confirm Password:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                                <PasswordField fx:id="confirmPasswordField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                                
                                <Button text="Update Password" onAction="#handleUpdatePassword" styleClass="button-primary" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                            </GridPane>
                            
                            <Label fx:id="securityStatusLabel" text=""/>
                        </VBox>
                    </content>
                </Tab>
                
                <Tab text="Application">
                    <content>
                        <VBox spacing="20" style="-fx-padding: 20;">
                             <Label text="App Preferences" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                             <CheckBox text="Enable Dark Mode (System Default)" selected="true" disable="true"/>
                             <CheckBox text="Show Notifications" selected="true"/>
                             <Label text="Version: 1.0.0" style="-fx-text-fill: -color-text-muted;"/>
                        </VBox>
                    </content>
                </Tab>
            </tabs>
        </TabPane>
    </center>
</BorderPane>
